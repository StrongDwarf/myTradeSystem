# API接口

## 接口目录

* [获取历史数据接口](#获取历史数据接口)
* [获取实时数据接口](#获取实时数据接口)
* [获取日K线图接口](#获取日K线图接口)
* [获取分时线接口](#获取分时线接口)
* [获取周K线接口](#获取周K线接口)
* [获取月K线接口](#获取月K线接口)
* [获取资金流向接口](#获取资金流向接口)

## 获取历史数据接口

**url:**http://money.finance.sina.com.cn/quotes_service/api/json_v2.php/CN_MarketData.getKLineData?symbol=sz002681&scale=60&ma=5&datalen=1023

**请求参数含义**:

* symbol:编号
* scale:分钟间隔(5,15,30,60)
* ma:均值(5,10,15,20,25)
* datalen:查询个数点(最大值242)

**返回报文含义**:

* day:时间
* open:开盘价
* high:最高价
* low:最低价
* close:收盘价
* volume:成交量

``` js
// 返回报文示例
[{
    day: "2020-04-17 15:00:00",
    open: "3.330", high: "3.330",
    low: "3.260", close: "3.270",
    volume: "12737437",
    ma_price5: 3.33,
    ma_volume5: 7272772
}]
```

## 获取实时数据接口

**url**:http://hq.sinajs.cn/list=sh601006,sh601007

**请求参数含义**

略

**返回报文含义**

* 0：”大秦铁路”，名字；
* 1：”27.55″，今日开盘价；
* 2：”27.25″，昨日收盘价；
* 3：”26.91″，当前价格；
* 4：”27.55″，今日最高价；
* 5：”26.20″，今日最低价；
* 6：”26.91″，竞买价，即“买一”报价；
* 7：”26.92″，竞卖价，即“卖一”报价；
* 8：”22114263″，成交的数，由于交易以一百股为基本单位，所以在使用时，通常把该值除以一百；
* 9：”589824680″，成交金额，单位为“元”，为了一目了然，通常以“万元”为成交金额的单位，所以通常把该值除以一万；
* 10：”4695″，“买一”申请4695股，即47手；
* 11：”26.91″，“买一”报价；
* 12：”57590″，“买二”
* 13：”26.90″，“买二”
* 14：”14700″，“买三”
* 15：”26.89″，“买三”
* 16：”14300″，“买四”
* 17：”26.88″，“买四”
* 18：”15100″，“买五”
* 19：”26.87″，“买五”
* 20：”3100″，“卖一”申报3100股，即31手；
* 21：”26.92″，“卖一”报价
* (22, 23), (24, 25), (26,27), (28, 29)分别为“卖二”至“卖四的情况”
* 30：”2008-01-11″，日期；
* 31：”15:05:32″，时间

``` js
// 返回报文示例
var hq_str_sh601006="大秦铁路,6.840,6.830,6.850,6.870,6.800,6.840,6.850,15157011,103690477.000,20600,6.840,206700,6.830,642200,6.820,363400,6.810,503080,6.800,159100,6.850,345859,6.860,387400,6.870,594100,6.880,589500,6.890,2020-04-17,15:00:00,00,";
var hq_str_sh601007="金陵饭店,8.100,8.060,8.220,8.530,8.090,8.210,8.220,3176062,26358194.000,2600,8.210,1000,8.200,1500,8.190,43400,8.180,9600,8.170,20046,8.220,31300,8.230,16400,8.240,18700,8.250,17000,8.260,2020-04-17,15:00:00,00,";
```

## 获取日K线图接口

**url**:http://image.sinajs.cn/newchart/daily/n/sh601006.gif

## 获取分时线接口

**url**:http://image.sinajs.cn/newchart/min/n/sh000001.gif

## 获取周K线接口

**url**:http://image.sinajs.cn/newchart/weekly/n/sh000001.gif

## 获取月K线接口

**url**:http://image.sinajs.cn/newchart/monthly/n/sh000001.gif

## 获取资金流向接口

**url**:http://vip.stock.finance.sina.com.cn/quotes_service/api/json_v2.php/MoneyFlow.ssi_ssfx_flzjtj?daima=sh600008,sh600009

``` js
// 返回报文示例
[{"r0_in":"0.0000","r0_out":"0.0000","r0":"0.0000","r1_in":"2960654.0000","r1_out":"1904322.0000","r1":"4864976.0000","r2_in":"6117636.0000","r2_out":"5513356.0000","r2":"11691850.0000","r3_in":"7865522.0000","r3_out":"6755830.0000","r3":"14621352.0000","curr_capital":"568545","name":"\u9996\u521b\u80a1\u4efd","trade":"3.2300","changeratio":"-0.00308642","volume":"9679500.0000","turnover":"17.025","r0x_ratio":"180","netamount":"2770304.0000","symbol":"sh600008"},{"r0_in":"53431561.9200","r0_out":"80531768.0900","r0":"136351706.0100","r1_in":"71335003.7300","r1_out":"105584569.1600","r1":"184952064.8900","r2_in":"49480551.9400","r2_out":"46193072.8400","r2":"99849219.7800","r3_in":"15540418.4500","r3_out":"15395914.1100","r3":"32934742.5600","curr_capital":"109348","name":"\u4e0a\u6d77\u673a\u573a","trade":"66.8500","changeratio":"0.00224888","volume":"6774357.0000","turnover":"61.9525","r0x_ratio":"-87.8729","netamount":"-57917788.1600","symbol":"sh600009"}]
```

## 获取资金流向接口

**url**:http://qt.gtimg.cn/q=ff_sz000002,ff_sz000009

``` js
// 返回报文示例
v_ff_sz000002="sz000002~60539.70~70877.30~-10337.60~-8.82~56659.60~46322.10~10337.50~8.82~117199.30~505965.5~547983.3~万 科Ａ~20200423~20200422^72804.80^71712.90~20200421^103342.50^141717.20~20200420^119771.90^136303.80~20200417^149506.60^127372.10"; v_ff_sz000009="sz000009~11445.46~11266.91~178.55~0.59~18769.01~18947.57~-178.56~-0.59~30214.47~77376.45~78795.03~中国宝安~20200423~20200422^7642.91^9351.09~20200421^10391.55^15548.39~20200420^15084.35^16568.21~20200417^32812.18^26060.43";
```

``` js
// 返回报文各项含义
1 => mainIn
2 => mainOut
3 => mainClearIn
4 => mainClearRate
5 => littleIn
6 => littleOut
7 => littleClearIn
8 => littleClearRate
9 => moneySum
12 => codeName
```